<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <title>Restaurantes</title>
</head>

<body>
    <header>
        <nav>
            <div id="logo">
                <a href="index.html"><i class="fa-solid fa-utensils"></i> CoolMida</a>
            </div>
            <div class="menu-items">
                <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="restaurantes.html">Restaurantes</a></li>
                    <li><a href="feed.html">Feed</a></li>
                </ul>
            </div>
            <div class="access">
                <button onclick="showLogin()">Login</button>
                |
                <button onclick="showRegister()">Cadastro</button>
            </div>
            <div id="profile">
                <button id="profile-btn">
                    <img src="assets/images/foto_perfil.png" alt="Perfil">
                </button>
                <div class="profile-options-list">
                    <div>
                        <img src="assets/images/foto_perfil.png" alt="Perfil">
                        <span>Nome</span>
                    </div>
                    <hr>
                    <ul>
                        <li><a href="perfil_usuario"><i class="fa-solid fa-user"></i> Meu perfil</a></li>
                        <li><a href="#"><i class="fa-solid fa-question"></i> Ajuda</a></li>
                        <li><a href="#"><i class="fa-solid fa-right-from-bracket"></i> Sair</a></li>
                    </ul>
                </div>
            </div>
            <div class="mobile-menu-icon">
                <button onclick="showMenu()"><i id="menu-icon" class="fa-solid fa-bars"></i></button>
            </div>
        </nav>
        <div class="menu-items mobile-menu">
            <ul>
                <li><a href="index.html">Início</a></li>
                <li><a href="restaurantes.html">Restaurantes</a></li>
                <li><a href="feed.html">Feed</a></li>
            </ul>
            <div class="access">
                <button onclick="showLogin()">Login</button>
                <button onclick="showRegister()">Cadastro</button>
            </div>
        </div>
    </header>
    <dialog class="box-login">
        <form>
            <div class="modal-header">
                <h2 class="modal-title">Login</h2>
                <button class="close-btn" type="button">
                    <i class="fa-solid fa-xmark fa-2xl" onclick="closeLogin()"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="input-box">
                    <label for="email" class="form-label">E-mail</label>
                    <div class="input-field">
                        <input type="email" name="email" id="email" class="form-control"
                            placeholder="exemplo@exemplo.com">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                </div>
                <div class="input-box">
                    <label for="password" class="form-label">Senha</label>
                    <div class="input-field">
                        <input type="password" name="password" id="password" class="form-control"
                            placeholder="••••••••">
                        <i class="fa-solid fa-eye-slash password-icon"></i>
                    </div>
                </div>
                <div class="password-options">
                    <div class="remember-password">
                        <input type="checkbox" id="remember_password" name="remember_password">
                        <label for="remember_password">Lembrar-me</label>
                    </div>

                    <a href="#" class="forgot-password">Esqueci minha senha</a>
                </div>
                <button class="btn-default" type="submit">Entrar</button>
                <div class="register">
                    Ainda não tem conta?<br>
                    <a href="#" onclick="showRegister()">Cadastre-se</a>
                </div>
            </div>
        </form>
    </dialog>
    <dialog class="box-register">
        <button class="close-btn" type="button">
            <i class="fa-solid fa-xmark fa-2xl" onclick="closeRegister()"></i>
        </button>
        <div>
            <button class="btn-default" onclick="location.href='cadastro/cadastro_usuario.html'">Quero avaliar</button>
            <button class="btn-default" onclick="location.href='cadastro/cadastro_restaurante.html'">Tenho um
                restaurante</button>
        </div>
    </dialog>
    <main id="main_container">
        <div id="search_container">
            <div id="search_box">
                <input type="text" id="search" placeholder="Pesquisar">
                <i class="fa-solid fa-search"></i>
            </div>
            <div id="search_btns">
                <div>
                    <button class="btn-default btn-filter">
                        <i class="fa-solid fa-filter"></i>
                    </button>
                    <div id="filter_content">
                        <section>
                            <h3>Tipo de culinária</h3>
                            <div class="cooking">
                                <div class="cooking-selection">
                                    <input type="checkbox" id="brasileira">
                                    <label for="brasileira">Brasileira</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="japonesa">
                                    <label for="japonesa">Japonesa</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="chinesa">
                                    <label for="chinesa">Chinesa</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="italiana">
                                    <label for="italiana">Italiana</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="mexicana">
                                    <label for="mexicana">Mexicana</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="indiana">
                                    <label for="indiana">Indiana</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="vegana">
                                    <label for="vegana">Vegana / Vegetariana</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="fast-food">
                                    <label for="fast-food">Fast Food</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="churrasco">
                                    <label for="churrasco">Churrasco</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="fruto-mar">
                                    <label for="fruto-mar">Frutos do Mar</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="saudavel">
                                    <label for="saudavel">Saudável / Fit</label>
                                </div>
                                <div class="cooking-selection">
                                    <input type="checkbox" id="doce">
                                    <label for="doce">Doces & Sobremesas</label>
                                </div>
                            </div>
                        </section>
                        <hr>
                        <section class="filter-section-2">
                            <div class="payment">
                                <h3>Formas de pagamento</h3>
                                <div class="payment-selection">
                                    <input type="checkbox" id="cartao-credito">
                                    <label for="cartao-credito">Cartão de crédito</label>
                                </div>
                                <div class="payment-selection">
                                    <input type="checkbox" id="cartao-debito">
                                    <label for="cartao-debito">Cartão de débito</label>
                                </div>
                                <div class="payment-selection">
                                    <input type="checkbox" id="dinheiro">
                                    <label for="dinheiro">Dinheiro</label>
                                </div>
                            </div>
                            <div class="services">
                                <h3>Serviços</h3>
                                <div class="services-selection">
                                    <input type="checkbox" id="delivery">
                                    <label for="delivery">Delivery</label>
                                </div>
                                <div class="services-selection">
                                    <input type="checkbox" id="retirada">
                                    <label for="retirada">Retirada</label>
                                </div>
                                <div class="services-selection">
                                    <input type="checkbox" id="reservas">
                                    <label for="reservas">Reservas</label>
                                </div>
                            </div>
                        </section>
                        <button class="btn-default">Aplicar filtros</button>
                    </div>
                </div>
                <div>
                    <button class="btn-default btn-sort">
                        <i class="fa-solid fa-arrow-up-wide-short"></i>
                    </button>
                    <div id="sort_content">
                        <h3>Ordenar por</h3>
                        <div id="sort_selection">
                            <div class="sort-radio">
                                <input type="radio" id="pior-avaliacao" name="sort" value="pior-avaliacao">
                                <label for="pior-avaliacao">Melhores avaliações</label>
                            </div>
                            <div class="sort-radio">
                                <input type="radio" id="melhor-avaliacao" name="sort" value="melhor-avaliacao">
                                <label for="melhor-avaliacao">Mais avaliados</label>
                            </div>
                            <div class="sort-radio">
                                <input type="radio" id="mais-recentes" name="sort" value="mais-recentes">
                                <label for="mais-recentes">Mais recentes</label>
                            </div>
                            <div class="sort-radio">
                                <input type="radio" id="mais-antigos" name="sort" value="mais-antigos">
                                <label for="mais-antigos">Mais antigos</label>
                            </div>
                        </div>
                        <button class="btn-default">Aplicar</button>
                    </div>
                </div>
            </div>
        </div>
        <section id="restaurants">
            <h1>Restaurantes</h1>
            <div id="cards_container"></div>
        </section>
        <div id="pagination">
            <button class="pagination-btn" id="first">
                <i class="fa-solid fa-angles-left"></i>
            </button>
            <button class="pagination-btn" id="preview">
                <i class="fa-solid fa-angle-left"></i>
            </button>
            <ul id="pagination_numbers">

            </ul>
            <button class="pagination-btn" id="next">
                <i class="fa-solid fa-angle-right"></i>
            </button>
            <button class="pagination-btn" id="last">
                <i class="fa-solid fa-angles-right"></i>
            </button>
        </div>
    </main>
    <footer>
        <div id="footer_content">
            <div id="footer_social_media">
                <a href="https://www.instagram.com" id="instagram" target="_blank">
                    <i class="fa-brands fa-instagram fa-2xl"></i>
                </a>
                <a href="https://pt-br.facebook.com" id="facebook" target="_blank">
                    <i class="fa-brands fa-facebook-f fa-2xl"></i>
                </a>
                <a href="https://x.com" id="twitter" target="_blank">
                    <i class="fa-brands fa-x-twitter fa-2xl"></i>
                </a>
                <a href="https://youtube.com" id="youtube" target="_blank">
                    <i class="fa-brands fa-youtube fa-2xl"></i>
                </a>
            </div>
            <ul>
                <li><a href="#">Sobre nós</a></li>
                <li><a href="#">Contato</a></li>
                <li><a href="#">Política de Privacidade</a></li>
                <li><a href="#">Termos de uso</a></li>
            </ul>
        </div>
        <div id="footer_copyright">
            Copyright &copy; 2025 all rights reserved
        </div>
    </footer>
    <script>
        const btnFilter = document.querySelector(".btn-filter");
        const filterContent = document.querySelector("#filter_content");

        btnFilter.addEventListener("click", (event) => {
            event.stopPropagation();
            sortContent.classList.remove("active");
            filterContent.classList.toggle("active");
            console.log("Filter button clicked");
        });

        filterContent.addEventListener("click", (event) => {
            event.stopPropagation();
        });

        window.addEventListener("click", () => {
            filterContent.classList.remove("active");
        });

        const btnSort = document.querySelector(".btn-sort");
        const sortContent = document.querySelector("#sort_content");

        btnSort.addEventListener("click", (event) => {
            event.stopPropagation();
            filterContent.classList.remove("active");
            sortContent.classList.toggle("active");
        });

        sortContent.addEventListener("click", (event) => {
            event.stopPropagation();
        });

        window.addEventListener("click", () => {
            sortContent.classList.remove("active");
        });

        const createCards = Array.from({ length: 100 }).map((_, i) =>
            `<div class="card">
        <div class="card-image">
            <img src="assets/images/foto_restaurante.png" alt="Foto restaurante">
        </div>
        <div class="card-info">
            <h3>Restaurante ${i + 1}</h3>
            <div>
                Categoria
            </div>
            <div>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <span>5,0</span>
            </div>
            <div>
                <i class="fa-solid fa-location-dot"></i>
                Cidade
            </div>
        </div>
    </div>`);

        let perPage = 12;
        const statePage = {
            page: 1,
            perPage,
            totalPage: Math.ceil(createCards.length / perPage),
            maxVisibleButtons: 5,
        }

        const pageControls = {
            next() {
                statePage.page++;

                const lastPage = statePage.page > statePage.totalPage;
                if (lastPage) {
                    statePage.page--;
                }
            },
            preview() {
                statePage.page--;

                if (statePage.page < 1) {
                    statePage.page++;
                }
            },
            goTo(page) {
                if (page < 1) {
                    page = 1;
                }

                statePage.page = +page;

                if (page > statePage.totalPage) {
                    statePage.page = statePage.totalPage;
                }
            },
            createListeners() {
                document.querySelector("#first").addEventListener("click", () => {
                    pageControls.goTo(1);
                    update();
                });

                document.querySelector("#last").addEventListener("click", () => {
                    pageControls.goTo(statePage.totalPage);
                    update();
                });

                document.querySelector("#next").addEventListener("click", () => {
                    pageControls.next();
                    update();
                });

                document.querySelector("#preview").addEventListener("click", () => {
                    pageControls.preview();
                    update();
                });
            },
            disableButtons() {
                if (statePage.page === 1) {
                    document.querySelector("#preview").disabled = true;
                    document.querySelector("#first").disabled = true;

                } else {
                    document.querySelector("#preview").disabled = false;
                    document.querySelector("#first").disabled = false;
                }
                if (statePage.page === statePage.totalPage) {
                    document.querySelector("#next").disabled = true;
                    document.querySelector("#last").disabled = true;
                } else {
                    document.querySelector("#next").disabled = false;
                    document.querySelector("#last").disabled = false;
                }
            }
        }

        const pageCards = {
            create(cardHTML) {
                const container = document.createElement("a");
                container.innerHTML = cardHTML;
                document.querySelector("#cards_container").appendChild(container);
            },
            update() {
                document.querySelector("#cards_container").innerHTML = "";
                let page = statePage.page - 1;
                let start = page * statePage.perPage;
                let end = start + statePage.perPage;

                const paginatedCards = createCards.slice(start, end);

                paginatedCards.forEach(pageCards.create);
            }
        }

        const numButtons = {
            create(number) {
                const button = document.createElement("li");
                button.innerHTML = `<a href="#">${number}</a>`;

                if (statePage.page === number) {
                    button.classList.add("active");
                }

                button.addEventListener("click", (event) => {
                    const page = event.target.innerText;

                    pageControls.goTo(page);
                    update();
                });
                document.querySelector("#pagination_numbers").appendChild(button);
            },
            update() {
                document.querySelector("#pagination_numbers").innerHTML = "";
                const { maxLeft, maxRight } = numButtons.calculateMaxVisible();
                for (let page = maxLeft; page <= maxRight; page++) {
                    numButtons.create(page);
                }
            },
            calculateMaxVisible() {
                const { maxVisibleButtons } = statePage;
                let maxLeft = (statePage.page - Math.floor(maxVisibleButtons / 2));
                let maxRight = (statePage.page + Math.floor(maxVisibleButtons / 2));

                if (maxLeft < 1) {
                    maxLeft = 1;
                    maxRight = maxVisibleButtons;
                }

                if (maxRight > statePage.totalPage) {
                    maxLeft = statePage.totalPage - (maxVisibleButtons - 1);
                    maxRight = statePage.totalPage;
                    if (maxLeft < 1) {
                        maxLeft = 1;
                    }
                }

                return { maxLeft, maxRight };
            }
        }

        function update() {
            pageCards.update();
            numButtons.update();
            pageControls.disableButtons();

        }

        function init() {
            update();
            pageControls.createListeners();

        }
    </script>
    <script src="https://kit.fontawesome.com/51087b88d3.js" crossorigin="anonymous"></script>
    <script src="assets/js/script.js"></script>
</body>

</html>